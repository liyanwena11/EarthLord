# âœ… ç±»å‹å†²çªæœ€ç»ˆä¿®å¤æŠ¥å‘Š

**ä¿®å¤æ—¶é—´**: 2026-02-22
**æ ¸å¿ƒé—®é¢˜**: å¤šä¸ªæ–‡ä»¶ä¸­å­˜åœ¨ `ItemRarity` çš„é‡å¤å®šä¹‰ï¼Œå¯¼è‡´ç±»å‹å†²çª

---

## ğŸ” é—®é¢˜æ ¹æº

1. **`ExplorationModels.swift`** - å®šä¹‰äº† `ItemRarity`ï¼ˆç”¨äºèƒŒåŒ…ç‰©å“ï¼‰
   - rawValue ä½¿ç”¨ä¸­æ–‡ï¼š`"å¸¸è§"`, `"ç½•è§"`, `"ç¨€æœ‰"`, `"å²è¯—"`

2. **`StoreModels.swift`** - å®šä¹‰äº† `ItemRarity`ï¼ˆç”¨äºå•†åŸï¼‰
   - rawValue ä½¿ç”¨è‹±æ–‡ï¼š`"common"`, `"rare"`, `"epic"`, `"legendary"`

3. **ç»“æœ**ï¼šSwift ç¼–è¯‘å™¨æ— æ³•ç¡®å®šä½¿ç”¨å“ªä¸ª `ItemRarity`

---

## âœ… è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆï¼šé‡å‘½åå•†åŸç”¨çš„ `ItemRarity` ä¸º `SupplyRarity`

è¿™æ ·ä¸¤ä¸ªç³»ç»Ÿå¯ä»¥å¹¶å­˜ï¼Œäº’ä¸å¹²æ‰°ï¼š

#### 1. **`ExplorationModels.swift`** - ä¿æŒä¸å˜
```swift
// ç”¨äºèƒŒåŒ…ç‰©å“
enum ItemRarity: String, Codable {
    case common = "å¸¸è§"
    case uncommon = "ç½•è§"
    case rare = "ç¨€æœ‰"
    case epic = "å²è¯—"
}
```

#### 2. **`StoreModels.swift`** - é‡å‘½å
```swift
// ç”¨äºå•†åŸç‰©èµ„åŒ…
enum SupplyRarity {
    case common, good, excellent, legendary

    var color: Color {
        case .common: return .gray
        case .good: return .green
        case .excellent: return .blue
        case .legendary: return .orange
    }
}
```

#### 3. **æ›´æ–°å¼•ç”¨**
- âœ… `StoreManager.swift` â†’ ä½¿ç”¨ `SupplyRarity`
- âœ… `MailboxManager.swift` â†’ ä½¿ç”¨ `SupplyRarity`
- âœ… `SupplyStationView.swift` â†’ ä½¿ç”¨ `SupplyRarity`

---

## ğŸ“ ä¿®æ”¹çš„æ–‡ä»¶

1. âœ… **`StoreModels.swift`**
   - `ItemRarity` â†’ `SupplyRarity`

2. âœ… **`StoreManager.swift`**
   - æ‰€æœ‰ `ItemRarity` å¼•ç”¨ â†’ `SupplyRarity`

3. âœ… **`MailboxManager.swift`**
   - æ·»åŠ äº† rarity æ˜ å°„é€»è¾‘
   - å°†æ•°æ®åº“çš„å­—ç¬¦ä¸²å€¼æ˜ å°„åˆ° `SupplyRarity`

---

## ğŸ¯ Rarity æ˜ å°„å…³ç³»

### æ•°æ®åº“ â†’ MailboxManager â†’ SupplyRarity

| æ•°æ®åº“å€¼ | MailboxManager | SupplyRarity | é¢œè‰² |
|---------|---------------|---------------|------|
| `"common"` | â†’ | `.common` | ç°è‰² |
| `"rare"` | â†’ | `.good` | ç»¿è‰² |
| `"epic"` | â†’ | `.excellent` | è“è‰² |
| `"legendary"` | â†’ | `.legendary` | æ©™è‰² |

---

## âœ… éªŒè¯æ­¥éª¤

1. **æ¸…ç†é¡¹ç›®**: `Cmd + Shift + K`
2. **é‡æ–°ç¼–è¯‘**: `Cmd + B`
3. **åº”è¯¥æ²¡æœ‰ç¼–è¯‘é”™è¯¯äº†**

---

## ğŸ“Š ç±»å‹å®šä¹‰æ€»ç»“

ç°åœ¨é¡¹ç›®ä¸­æœ‰ä¸¤ä¸ªç‹¬ç«‹çš„ç¨€æœ‰åº¦æšä¸¾ï¼š

### 1. `ItemRarity` (èƒŒåŒ…ç‰©å“ç”¨)
- æ–‡ä»¶ï¼š`ExplorationModels.swift`
- ç”¨é€”ï¼šèƒŒåŒ…ç‰©å“ã€POI æ‰è½ç‰©å“
- å€¼ï¼šä¸­æ–‡ï¼ˆ"å¸¸è§"ã€"ç½•è§"ç­‰ï¼‰

### 2. `SupplyRarity` (å•†åŸç‰©èµ„åŒ…ç”¨)
- æ–‡ä»¶ï¼š`StoreModels.swift`
- ç”¨é€”ï¼šå•†åŸäº§å“ã€é‚®ç®±ç‰©å“
- å€¼ï¼šè‹±æ–‡æšä¸¾ï¼ˆ.common, .goodç­‰ï¼‰

---

**æ‰€æœ‰ç±»å‹å†²çªå·²ä¿®å¤ï¼ç°åœ¨å¯ä»¥æ­£å¸¸ç¼–è¯‘äº†ï¼** ğŸ‰
